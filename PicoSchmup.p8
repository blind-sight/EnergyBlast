pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
function _init()
	cls(0)
	
	shipx=64
	shipy=64
	
	--speed
	shipsx=0
	shipsy=0
	
	--sprites
	shipspr=2
	bullspr=16
	flamespr=5
	
	--bullet
	bullx=40
	bully=-10
	
	--muzzle
	muzzle=0
end

-- (gameplay hard 30fps)
function _update()
	handle_ship_controls()
	
	--moving the bullet
	bully=bully-4
	
	--animate flame
	flamespr=flamespr+1
	if flamespr>8 then
		flamespr=5
	end
	
	--animate muzzle flash
	if muzzle>0 then
		muzzle=muzzle-1
	end
	
	--checking edges
	if shipx>120 then
		shipx=0
		sfx(0)
	end
	if shipx<0 then
		shipx=120
		sfx(0)
	end
end

-- (soft 30 fps)
function _draw()
	cls(0)
	
	--ship
	spr(shipspr,shipx,shipy)
	spr(flamespr,shipx,shipy+8)
	
	--shooting
	spr(bullspr,bullx,bully)
	if muzzle>0 then
		circfill(shipx+3,shipy-1,
			muzzle,7)
	end
end
-->8
function handle_ship_controls()
	shipspr=2
	shipsx=0
	if btn(0) then
		shipsx=-2
		shipspr=1
	end
	if btn(1) then
		shipsx=2
		shipspr=3
	end
	
	shipsy=0
	if btn(2) then
		shipsy=-2
	end
	if btn(3) then
		shipsy=2
	end
	
	-- need to press btn
	-- each time to fire
	if btnp(5) then
		bully=shipy-3
		bullx=shipx
		sfx(1)
		muzzle=5
	end
	
	--moving the ship
	shipx=shipx+shipsx
	shipy=shipy+shipsy
end
__gfx__
00000000000330000003300000033000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000036630000366300003663000000000000077000000770000007700000c77c0000000000000000000000000000000000000000000000000000000000
00700700003bb300003bb300003bb3000000000000c77c000007700000c77c0001cccc1000000000000000000000000000000000000000000000000000000000
00077000036bb630036bb630036bb63000000000001cc100000cc000001cc1000011110000000000000000000000000000000000000000000000000000000000
00077000037cbb3036b7cb6303bb7c300000000000011000000cc000000110000000000000000000000000000000000000000000000000000000000000000000
007007000311bb303bb11bb303bb1130000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000
00000000035563303b6556b303365530000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000006996000369963000699600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00099000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
009aa900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09a77a90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09a77a90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
009aa900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00099000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100001e7301d7401d760127601177012770207701e7701d7701977019770187701777017770167701677016770197601b7601e760207502375024740247402373022730207301f7301e7301d7301b73017730
0102000032550305502c55026550215501c5501855014550115500f5500c550095500855006550035500155000000000000000000000000000000000000000000000000000000000000000000000000000000000
